CREATE TABLE {% block fullTableName %}{% block schema %}{{ schema }}{% endblock %}.{% block tableName %}{% endblock %}{% endblock %}
(
{% block fields %}{% endblock %}
{% block constraints %}{% endblock %}
)
WITH (
  OIDS=FALSE
);

{% block alterations %}
{% endblock %}

{% block owner %}
ALTER TABLE {{ block('schema') }}.{{ block('tableName') }}
  OWNER TO {{ mainDBOwner }};
{% endblock %}

{{ setGlobalScopeVar('tableComment', {}) }}
{{ setGlobalScopeVar('attributeComments', {}) }}
{% block comments %}
{% endblock %}

{% if (getGlobalScopeVar('tableComment')) %}
COMMENT ON TABLE "{{ block('schema') }}"."{{ block('tableName') }}" IS '{{ getGlobalScopeVar('tableComment') }}';
{% endif %}

{% if (getGlobalScopeVar('attributeComments')) %}
{% for columnName, attributeComment in getGlobalScopeVar('attributeComments') %}
COMMENT ON COLUMN "{{ block('schema') }}"."{{ block('tableName') }}"."{{ columnName }}" IS '{{ attributeComment }}';
{% endfor %}
{% endif %}

{% block indices %}
{% endblock indices %}